#!/usr/bin/env bash
# Forcibly terminates the 7-highlander process using SIGKILL (Signal 9).
# shellcheck disable=SC2009

# 1. Find all PIDs associated with the 7-highlander script.
# 2. Use xargs to execute 'kill -9' on every single PID found, one at a time.
PIDS_FOUND=$(ps aux | grep -v grep | grep "7-highlander" | awk '{print $2}')

if [ -n "$PIDS_FOUND" ]; then
    # Pass the list of PIDs to xargs, ensuring kill is executed for each one.
    echo "$PIDS_FOUND" | xargs kill -9
else
    # This path is generally not taken if the Python script started 7-highlander
    echo "Error: 7-highlander process not found."
fi
